.link
  %a{href: "#{url_for("/artist/#{model.artist.id}")}"}
    =model.artist.name
.link
  %a{href: "#{url_for("/#{model.class.to_s.downcase}/#{model.id}")}"}
    =model.to_s
.row
  %form{method: "POST", action:"#{url_for("/admin/#{model.class.to_s.downcase}/#{model.id}")}"}
    -model.editable_attributes.each do |k,v|
      .input-group.input-group-lg
        %span.input-group-addon
          =k
        %input.form-control{type:"text", name:"#{k}", value: "#{v}"}
    .submit
      %input.btn.btn-default.btn-lg{type:"Submit", value:"Submit"}
.row
  %img{src: "#{url_for("/images/albums/#{model.image_path}")}"}
.row
  %form{method: "POST", action:"#{url_for("/admin/#{model.class.to_s.downcase}/#{model.id}/image")}"}
    .input-group.input-group-lg
      %span.input-group-addon
        Image Url
      %input.form-control{type:"text", name:"image_url"}
    .input-group.input-group-lg
      %span.input-group-addon
        Image Name
      %input.form-control{type:"text", name:"image_name", value: "#{model.image_path}"}
    .input-group.input-group-lg
      %input.btn.btn-default.btn-lg{type:"Submit", value:"Submit"}
.row.sp-top-lg.no-pad
  .col-md-1
    TrackNum
  .col-md-6
    Title
-model.tracks.each do |track|
  %form{class: "form#{track.id}"}
    .row.no-pad
      .col-md-1
        %input.col-md-4.form-control{type: 'text', name: 'track_number', value: "#{track.track_number}"}
      .col-md-6
        %input.form-control{type: 'text', name: 'title', value: "#{track.title}"}
      .col-md-2
        %input.col-.md-4.form-control.btn.btn-primary{type: 'Button', value: 'Save', onClick: "post(#{track.id})"}
:javascript
  keypress_disable=true;
  function post(id) {
    var form= $(".form" + id);
    $.ajax( {
        url: "#{url_for('/admin/track/')}" + id, 
        data: form.serialize(), 
        method: 'post',
    })
    .done(function(msg) {
    });
  }
                  
